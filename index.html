 <html>
 <Head>
 <script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
	<script type="application/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
	
	<script src="https://cdn.jsdelivr.net/npm/signature_pad@2.3.2/dist/signature_pad.min.js"></script>
	
	
	<script type="application/javascript">
      
	  var canvas = document.querySelector("canvas");

var signaturePad = new SignaturePad(canvas);

// Returns signature image as data URL (see https://mdn.io/todataurl for the list of possible parameters)
signaturePad.toDataURL(); // save image as PNG
signaturePad.toDataURL("image/jpeg"); // save image as JPEG
signaturePad.toDataURL("image/svg+xml"); // save image as SVG

// Draws signature image from data URL.
// NOTE: This method does not populate internal data structure that represents drawn signature. Thus, after using #fromDataURL, #toData won't work properly.
signaturePad.fromDataURL("data:image/png;base64,iVBORw0K...");

// Returns signature image as an array of point groups
const data = signaturePad.toData();

// Draws signature image from an array of point groups
signaturePad.fromData(data);

// Clears the canvas
signaturePad.clear();

// Returns true if canvas is empty, otherwise returns false
signaturePad.isEmpty();

// Unbinds all event handlers
signaturePad.off();

// Rebinds all event handlers
signaturePad.on();
	  
		
   
      function generatePDF() {
        // Choose the element that our invoice is rendered in.
        var element = document.getElementById("printCOVIDPDF");
        // Define options :
		var opt = {
  filename:     'confinement-coronavirus.pdf',
  image:        { type: 'jpeg', quality: 0.98 },
};
		// Choose the element and save the PDF for our user.
        html2pdf().set(opt).from(element).save();
      }
	  
	  
	  
	  
    </script>
	
    <style>
    .paper-box {
        max-width: 800px;
        margin: auto;
        padding: 30px;
        border: 1px solid #eee;
        box-shadow: 0 0 10px rgba(0, 0, 0, .15);
        font-size: 15px;
        line-height: 20px;
        font-family: 'Libre Franklin', 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;
        color: #555;
		background: #fff;
    }
	
		
    
    .paper-box table {
        width: 100%;
        line-height: inherit;
        text-align: left;
    }
    
    .paper-box table td {
        padding: 5px;
        vertical-align: top;
    }
    
    .paper-box table tr td.qteprix {
        text-align: right;
		font-size: 15px;
        line-height: 20px;
        font-family: 'Libre Franklin', 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;
    }
    
    .paper-box table tr.top table td {
        padding-bottom: 20px;
    }
    
    .paper-box table tr.top table td.title {
        font-size: 45px;
        line-height: 45px;
        color: #333;
    }
    
    .paper-box table tr.information table td {
        padding-bottom: 40px;
		text-align:left;
		font-size: 15px;
        line-height: 20px;
        font-family: 'Libre Franklin', 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;
    }
	
	.paper-box table tr.information table td.sousigne {
        width: 50%;
		padding-bottom: 40px;
		text-align:right;
    }
    
    .paper-box table tr.entete td {
       background: #fff;
       color: #555;
        border-bottom: 1px solid #ddd;
        font-weight: bold;
    }
    
    .paper-box table tr.details td {
        padding-bottom: 20px;
    }
	
    
    .paper-box table tr.optionscovidpdf td{
        border-bottom: 1px solid #eee;
		font-size: 15px;
        line-height: 20px;
       
    }
    
    .paper-box table tr.optionscovidpdf.last td {
        border-bottom: none;
		font-size: 15px;
        line-height: 20px;
       
    }
    
    .paper-box table tr td.total {
        border-top: 2px solid #eee;
        font-weight: bold;
    }
	
	
	textarea.coord {
		font-size: 15px;
        line-height: 25px;
        padding:0;
        font-family: 'Libre Franklin', 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;
        color: #555;
		border:0px;
		text-align: right;
		resize:none;
		background-color:#f3f6f9;
	}
	
	
	title {
		font-size: 30px;
        line-height: 40px;
        font-family: 'Libre Franklin', 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;
        color: #555;
		border:0px;	
	}
    
    @media only screen and (max-width: 600px) {
        
		.paper-box table tr.top table td {
            width: 100%;
			display: block;
            text-align: center;
        }
        
        .paper-box table tr.information table td {
            width: 100%;
            display: block;
            text-align: center;
        }
		
		.paper-box table tr.information table td.sousigne {
            width: 100%;
            display: block;
            text-align: center;
        }
    }
	
	@media (max-width: 600px) {
        .paper-box {
			border: 0px solid #eee;
			box-shadow: 0 0 10px rgba(0, 0, 0, .0);
			padding:30px 0 0 0;
			margin-top:0px;
		}
		
		.paper-box table tr.top table td.title {
			padding-bottom: 50px;
			width: 100%;
            display: block;
            text-align: center;
    }		
    }
	
.square_btn {
	display: inline-block;
    padding: 0.3em 1em;
    font-family: 'Libre Franklin', 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;
	text-decoration: none;
    color: #eee;
    border: solid 2px #555;
    border-radius: 3px;
	background: #555;
    transition: .4s;
}

.square_btn:hover {
    background: #eee;
    color: #555;
} 
	
	* {
  margin:0;
  padding:0;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.bouton {
	text-align:center;
	width:300px;
	margin:15px auto;
	font-family: 'Libre Franklin', 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;
	font-size: 15px;
    line-height: 20px;
}
    </style>
	</head>
	<body>	
	<div style="display:block;">
<br>	
	<div id="printCOVIDPDF" class="paper-box">
	<div>
        <div>
		<table cellpadding="0" cellspacing="0">
            <tr class="top">
                <td colspan="3">   
                </td>
            </tr>   
            <tr class="information">
                <td colspan="3">
                    <table>
                        <tr>
                            <td>
                                <b>ATTESTATION DE DÉPLACEMENT DÉROGATOIRE</b><br>
                                En application de l’article 1er du décret du 16 mars 2020 portant réglementation des
déplacements dans le cadre de la lutte contre la propagation du virus Covid-19 :<br>  
                            <td class="sousigne">
								<b>Je sousigné :</b><br>
                                Mme / M: <textarea  style="width:100%;" class="coord" rows="1" id="iciCoordonneesClient1"></textarea>
								Né(e) le :  <textarea style="width:100%;" class="coord" rows="1" id="iciCoordonneesClient2"></textarea>
								Demeurant : <textarea  style="width:100%;" class="coord" rows="4" id="iciCoordonneesClient3"></textarea>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr class="entete">
                <td colspan="3">
                    certifie que mon déplacement est lié au motif suivant (cocher la case) autorisé par
l’article 1er du décret du 16 mars 2020 portant réglementation des déplacements dans
le cadre de la lutte contre la propagation du virus Covid-19 :
                </td>   
            </tr>
          <tr class="optionscovidpdf">
                <td>			
				<div>
  <input type="checkbox" id="covidpdf" name="covidpdf">
  <label for="covidpdf">déplacements entre le domicile et le lieu d’exercice de l’activité professionnelle,
lorsqu’ils sont indispensables à l’exercice d’activités ne pouvant être organisées
sous forme de télétravail (sur justificatif permanent) ou déplacements
professionnels ne pouvant être différés ;</label>
</div>		
<div>
  <input type="checkbox" id="covidpdf" name="covidpdf">
  <label for="covidpdf">déplacements pour effectuer des achats de première nécessité dans des
établissements autorisés (liste sur gouvernement.fr); </label>
</div>

<div>
  <input type="checkbox" id="covidpdf" name="covidpdf">
  <label for="covidpdf">déplacements pour motif de santé;</label>
</div>
<div>
  <input type="checkbox" id="covidpdf" name="covidpdf">
  <label for="covidpdf">déplacements pour motif familial impérieux, pour l’assistance aux personnes
vulnérables ou la garde d’enfants ;</label>
</div>
<div>
  <input type="checkbox" id="covidpdf" name="covidpdf">
  <label for="covidpdf">déplacements brefs, à proximité du domicile, liés à l’activité physique individuelle
des personnes, à l’exclusion de toute pratique sportive collective, et aux besoins
des animaux de compagnie.</label>
</div>			          
                </td>
            </tr>           
            <td class="sousigne">
								Fait à :<textarea style="width:300px;"  class="coord" rows="1" id="iciCoordonneesClient1"></textarea>
								<br>le :<textarea style="width:100px;" class="coord" rows="1" id="iciCoordonneesClient2"></textarea>
								<br>Signature : 
          <div style="background-color:#f3f6f9;width:250px;" id="sketchpad"></div>         
                            </td>                      
        </table>
    </div>
              <button class="u-full-width" id="undo">Undo</button>
             <button class="u-full-width" id="redo">Redo</button>
			 <button class="u-full-width" id="clear">Clear</button>
</div>
</div>
<div class="bouton"><a href="#" class="square_btn" onclick="generatePDF();">Générer le PDF</a></div>
</div>      
</div>
<script type="application/javascript" src="https://cdn.jsdelivr.net/npm/responsive-sketchpad@0.2.1/responsive-sketchpad.min.js"></script>
  <script src="responsive-sketchpad.js"></script>
  <script>
    var el = document.getElementById('sketchpad');
    var pad = new Sketchpad(el);
    function undo() {
        pad.undo();
    }
    document.getElementById('undo').onclick = undo;
  
    function redo() {
        pad.redo();
    }
    document.getElementById('redo').onclick = redo;
  
    function clear() {
        pad.clear();
    }
    document.getElementById('clear').onclick = clear;
 
    window.onresize = function (e) {
      pad.resize(el.offsetWidth);
    }
  </script>
</body>
</html>
